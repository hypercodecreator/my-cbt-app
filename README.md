## 📜 프로젝트 개발 계획서 갱신 (v3.7.1)
1. 프로젝트 명세서 (The 'Why' & 'Big What')

1.1. 프로젝트 개요
"나만의 CBT 웹 앱"은 사용자가 직접 문제와 개념(키워드, 태그)을 구조화하여 학습할 수 있는 개인 맞춤형 CBT(Computer-Based Testing) 웹 애플리케이션입니다.

1.2. 비전 및 목표

비전: 지식의 계층 구조와 관계망을 활용하여, 학습자가 자신의 앎을 스스로 점검하고 완성해나가는 메타인지 기반 학습 플랫폼 구축.

1.3. 기술 스택

Frontend: HTML, CSS, JavaScript (Vanilla JS)

Backend & Database: Google Firebase (Firestore, Authentication)

1.4. 데이터 구조 (Firestore)

subjects (컬렉션)

name: 과목명

discipline: 학문 (예: 응급구조사, 자격증)

semester: 학기 (선택 사항, 예: 1-2)

questionCount: 문제 수

questions (서브컬렉션)

text, answer, explanation

part, chapter, section: 목차 정보

examYear, examRound, examNumber: 기출 정보

options, keywords, tags, metatags

users (컬렉션)

settings: 사용자 설정 객체

subjectTreeState: 개별 노드 펼침/접힘 상태

subjectTreeDefaultState: 트리 기본 보기 상태

1.5. 핵심 수정 내역 (Key Changes History)

v3.7.1: UI 개선 및 캘린더 상호작용 추가
'과목 선택' 화면 레이아웃 변경 (과목 목록 상단 배치).
월간 학습 달력 기능 개선 (클릭 시 하단에 학습량 표시, 팝업 제거).

v3.7.0: 문제 고유 ID(qid) 부여
새 문제 추가 시 고유한 '절대 번호'(qid)를 부여하고 Firestore에 저장.
'문제 관리' 목록에 절대 번호([qid])와 상대 번호((번호))를 함께 표시.
단일/대량 문제 추가 로직에 Firestore 트랜잭션 적용하여 번호 부여 안정성 확보.

v3.6.1: 버그 수정 (Firestore)
'새 문제 추가' 시, 빈 목차 필드에 `FieldValue.delete()`가 호출되어 발생하던 Firestore 저장 오류 해결.

v3.6.0: 문제 대량 추가 기능 고도화
'여러 문제 추가' 기능에 사용자가 입력 방식을 선택할 수 있는 UI 추가.
'빈 줄 + 키워드(정답:, 해설:)' 방식과 기존의 '//' 구분 방식 모두를 지원하도록 파싱 로직 개선.

v3.5.0: 점진적 학습 기능 도입

'과목 선택' 화면에 '오늘의 학습 목표' 설정 및 달성률 표시 기능 추가.

퀴즈 완료 또는 중단 시, 진행한 문제 수가 일일 목표에 자동으로 반영되도록 구현.

목표 설정 UI를 팝업(모달)에서 인라인(inline) 폼 형태로 개선하여 사용성 증대.

v3.4.2: UI/UX 미세 조정

문제 관리 목록에서 문제 텍스트와 버튼 사이 간격을 추가하여 가독성 개선.

v3.4.1: 반응형 디자인 적용 및 안정화

CSS 미디어 쿼리를 사용하여 모바일 화면(768px 이하)에서의 UI 개선.

문제 관리, 과목 선택 화면의 버튼 등을 수직으로 재정렬하여 가독성 확보.

'문제 저장' 버튼이 빈 내용으로 작동하지 않던 버그 수정 및 피드백 알림창 기능 추가.

개발 과정에서 사용된 디버깅용 로그 메시지 모두 제거.

v3.4.0: 목차 구조 10단계 확장

페이징 기능 구현: 문제 관리 '전체 목록' 화면에 페이지당 20개씩 문제를 나눠 보여주는 페이징 UI 및 로직 추가.

문제 데이터의 목차 정보 필드를 part, chapter, section에서 level1 ~ level10으로 확장.

문제 추가/수정 화면의 UI를 10단계 입력 필드로 변경.

'목차별 보기'의 트리 구조가 최대 10단계를 지원하도록 로직 수정.

v3.3.0: Git 기반 버전 관리 시스템 도입

Git과 GitHub를 도입하여 프로젝트의 모든 코드 변경 이력을 체계적으로 관리 시작.

주요 개발 완료 시점마다 Tag를 사용하여 버전 번호를 부여하는 시스템 구축.

v3.2.2: 버그 수정 및 안정화

과목 트리 기본 상태 설정 기능 오류 해결 및 초기화 로직 안정화.

v3.2: 과목 트리 제어 및 검색 기능

과목 그룹화: '학문 → (학기) → 과목'의 계층형 트리 구조 도입.

v3.1: '투트랙' 학습 모드 도입

문제 관리 화면에 '목차별', '회차별', '키워드별' 학습 모드 선택 기능 추가.

v3.0 이전:

Firebase 기반 CRUD 및 인증 기능 구현.

1.6. 향후 개발 로드맵 (To-Do & Future)

* **1순위: 메타인지 및 개념 네트워크 강화 (신규 핵심 기획)**
    * `[신규 기획]` **"레이어 공부법" (가제) 도입:**
        * 학습 중인 내용이 전체 구조 중 어디인지 시각적으로 파악할 수 있는 기능.
        * 시각적 **"미니맵"** (예: 건물 단면도) 및 **"줌 아웃"** 기능으로 학습 위치의 직관적 파악.
        * 클릭 가능한 **"브레드크럼 (Breadcrumbs)"** (예: `소방설비 > 소화설비 > 펌프`)으로 상위 목차/개념으로 빠른 이동 지원.
    * `[신규 기획]` **"4단계 인식법" (기출문제 반복 고도화) - (유튜브 아이디어)**
        * 문제 상태 필터링 (**기본 🍚**, **보류 🔺**, **완료 ✔️**) 기능 추가.
        * **"나의 요약"** (자신만의 언어로 재정의), **"차별화 노트(Why?)"** 필드 추가.
        * **"출제 포인트 인식"** 및 **"변형 문항 예상"** 훈련 기능.
        * **"읽기 모드"** (해설/요약 동시 제공) vs **"풀기 모드"** (CBT) 전환 기능.
    * `[신규 기획]` **"개념 네트워크" (지식 그래프) 뷰:**
        * 개념 간 **'통로(하이퍼링크)'** (예: `사지원판` ↔ `라이더스 커널`) 연결 기능.
        * 개념 **'방향성'** 및 **'역할'** (**확산점**, **수렴점**, **대칭 관계**) 정의 기능.

* **2순위: 학습 습관화 기능 강화**
    * `[진행 완료]` 스트릭 카운터 로직 안정화.
    * `[신규 기획]` 학습 달력 클릭 시, 해당 날짜의 **'학습 내역(문제 리스트)'** 표시 기능.

* **3순위: UI/UX 고도화**
    * `[신규 기획]` 문제 관리 화면에 **무한 스크롤** 기능 도입 (현재 페이징 기능과 선택 적용 고려).
    * `[신규 기획]` 반응형 디자인 추가 개선 (필요시).

* **4순위: 기타 기능**
    * `[고려 사항]` 문제에 **이미지 첨부** 기능. (유튜브 아이디어: 보조 수단)

2. 현재 SOW (Scope of Work): 학습 습관화 기능

목표: 사용자가 꾸준히 학습할 수 있도록 동기를 부여하는 시각적 장치를 구현한다.

주요 결과물:

GitHub의 잔디처럼, 학습한 날짜를 달력에 시각적으로 표시하는 '학습 달력' 기능.

연속 학습 일수를 보여주는 '스트릭(Streak)' 카운터 기능.

3. 개발 워크플로우 및 버전 관리 (Development Workflow & Versioning)

3.1. 개발 흐름 (GitHub Flow 기반)

모든 작업은 main 브랜치에 직접 반영하지 않고, 별도의 기능(feature) 브랜치에서 진행한 후 **Pull Request(PR)**를 통해 검토하고 병합(Merge)한다.

계획 (Plan): README.md의 'SOW'와 '개발 로드맵'을 수정하여 다음 버전에 구현할 기능을 정의하고, 이 계획을 main 브랜치에 먼저 반영한다. (docs: ... 커밋)

브랜치 생성 (Branch): main 브랜치에서 새로운 기능 브랜치를 생성하며 작업을 시작한다.

(예시) git checkout -b feature/layer-study

개발 및 커밋 (Code & Commit): 기능 개발을 진행하며, 의미 있는 단위로 작업을 나누어 새로운 기능 브랜치에 커밋한다.

푸시 (Push): 작업이 1차 완료되면, 기능 브랜치를 GitHub에 푸시한다.

(예시) git push origin feature/layer-study

검토 요청 (Pull Request):

GitHub 저장소에서 feature/layer-study 브랜치를 main 브랜치로 병합하는 Pull Request(PR)를 생성한다.

이 PR 페이지가 "컨트롤 타워" 역할을 하며, main과의 변경점(diff)을 시각적으로 검토한다.

병합 및 정리 (Merge & Clean-up):

"컨트롤 타워"에서 변경점에 이상이 없음을 확인한 후, "Merge pull request" 버튼을 눌러 main 브랜치에 최종 반영한다.

main 브랜치로 다시 이동(git checkout main)하고, 최신 main 코드를 가져온다.(git pull origin main)

완료 및 태그 (Tag & Release):

main 브랜치에서 git tag vX.X.X 명령어로 버전을 확정하고 태그를 푸시한다. (git push origin vX.X.X)

3.2. 버전 관리 (Versioning)

Major.Minor.Patch 형식의 시맨틱 버저닝을 따른다.

모든 공식 버전은 Git 태그를 통해 관리하며 GitHub Tags 페이지에서 이력을 확인할 수 있다.

커밋 메시지는 타입: 제목 형식을 따른다. (e.g., feat:, fix:, docs:)

4. 개발 일지 (Development Log)

v3.7.1: 과목 선택 UI 개선 및 캘린더 업데이트
2025-10-23:
'과목 선택' 화면 레이아웃 조정 및 월간 달력 클릭 이벤트 추가 (팝업 대신 하단 정보 표시). v3.7.1 버전 확정.

v3.7.0: 문제 고유 ID(qid) 부여 기능 구현
2025-10-22:
새 문제 추가 시 qid 부여 및 목록 표시 기능 구현 완료. v3.7.0 버전 확정.

v3.6.1: Firestore 저장 오류 수정
2025-10-19:
'새 문제 추가' 시 `saveFullUpdate` 함수에서 발생하던 `FieldValue.delete` 관련 버그 수정 및 v3.6.1 버전 확정.

v3.6.0: 문제 대량 추가 기능 고도화
2025-10-17:
'여러 문제 추가' 기능에 입력 포맷 선택(키워드 vs '//') 기능 추가 및 v3.6.0 버전 확정.

2025-10-13:

'오늘의 학습 목표' 설정 및 진행률 표시 기능 구현 완료.

퀴즈 진행 상황(완료/중단)이 목표치에 반영되는 로직 추가.

목표 설정 UI를 인라인 폼으로 개선.

v3.4.2: UI/UX 미세 조정

2025-10-12: 문제 관리 목록 아이템에 gap 속성을 추가하여 내부 간격 조정.

v3.4.1: 반응형 디자인 적용 및 안정화

2025-10-11:

모바일 화면 대응을 위한 반응형 CSS 코드 추가.

'문제 저장' 버튼 로직 오류 수정 및 피드백 UI 추가.

코드 클린업(디버깅 로그 제거) 후 v3.4.1 버전 확정.

v3.4.0: 페이징 기능 및 목차 구조 확장

2025-10-09:

문제 관리 '전체 목록' 화면에 페이지당 20개씩 문제를 나눠 보여주는 페이징 기능 구현 완료.

목차 구조를 3단계에서 10단계로 확장하는 기능 구현 완료.

두 기능의 완성을 v3.4.0으로 확정하고 README.md 갱신.

개발 워크플로우 구체화.

v3.3.0: 버전 관리 시스템 도입

2025-10-08: Git/GitHub 버전 관리 시스템 도입 결정 및 구축 완료.

로컬 컴퓨터에 Git 설치 및 사용자 정보 설정 (git config).

index.html 파일 위치 문제 해결 및 my-cbt-app 프로젝트 폴더 생성.

README.md 파일에 v3.3.0 프로젝트 계획서 추가 및 GitHub 업로드.

git commit 실패 후 사용자 정보 설정 문제 해결 및 첫 커밋/푸시 성공.

v3.3.0 태그 생성 및 GitHub 업로드 완료.

